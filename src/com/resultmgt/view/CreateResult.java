/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.resultmgt.view;

import com.resultmgt.controller.ExamDAO;
import com.resultmgt.controller.GradeDAO;
import com.resultmgt.controller.ResultDAO;
import com.resultmgt.controller.StudentDAO;
import com.resultmgt.controller.SubjectDAO;
import com.resultmgt.model.Exams;
import com.resultmgt.model.Grades;
import com.resultmgt.model.Results;
import com.resultmgt.model.Students;
import com.resultmgt.model.Subjects;
import java.awt.Dimension;
import java.awt.Image;
import java.awt.Toolkit;
import java.text.SimpleDateFormat;
import java.util.List;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Ankeet
 */
public class CreateResult extends javax.swing.JInternalFrame {
    
    // to view students data in jtable
    String cols[]={"ID","Full Name"};
    DefaultTableModel model;
       
    /**
     * Creates new form CreateResult
     */
    public CreateResult() {
        initComponents();
        
        
        Toolkit toolkit = getToolkit();
        Dimension size = toolkit.getScreenSize();
        //setLocation(size.width/2 - getWidth()/2, (size.height/2 - getHeight()/2)-50);
        setSize(size.width, size.height); 
        
        
        jPanel1.setSize(size.width, size.height); 
        jPanel2.setSize(size.width, size.height); 
        
        
         // for table
         model=new DefaultTableModel(null,cols);
        jTable_viewStudents.setModel(model);
        
        
        loadData();
        loadGrades();
        
    }
    
    // view user profile
    public void clearTableRows(){
        int rowCount=jTable_viewStudents.getRowCount();
        for(int i=0;i<rowCount;i++){
            model.removeRow(0);
        }
    }
    
    public void loadData(){
        clearTableRows();
        StudentDAO sDAO=new StudentDAO();
        
        List<Students> studentlists=sDAO.viewStudents();
        
        if(studentlists == null){
            
        }else{
                for(int i=0;i<studentlists.size();i++){
                model.addRow(new Object[]{ 
                studentlists.get(i).getStudent_id(),
                studentlists.get(i).getFull_name(),
                
               });
            }
        }
    } 
    
     public void loadGrades(){
        GradeDAO gDAO = new GradeDAO();
                
        List<Grades> gradeLists=gDAO.viewGrades();
           
            if(gradeLists == null){
                jComboBox_grade.addItem("Grades not found!");
                
            }else{
                for(int i=0;i<gradeLists.size();i++){
                jComboBox_grade.addItem(gradeLists.get(i).getGrade_name());
                }  
            }

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable_viewStudents = new javax.swing.JTable();
        jComboBox_grade = new javax.swing.JComboBox<>();
        jPanel3 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jTextField_fullname = new javax.swing.JTextField();
        jTextField_studentid = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jTextField_grade = new javax.swing.JTextField();
        jLabel_picture = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jLabel_sub1 = new javax.swing.JLabel();
        jLabel_sub2 = new javax.swing.JLabel();
        jLabel_sub3 = new javax.swing.JLabel();
        jLabel_sub4 = new javax.swing.JLabel();
        jLabel_sub5 = new javax.swing.JLabel();
        jTextField_sub1 = new javax.swing.JTextField();
        jTextField_sub2 = new javax.swing.JTextField();
        jTextField_sub3 = new javax.swing.JTextField();
        jTextField_sub4 = new javax.swing.JTextField();
        jTextField_sub5 = new javax.swing.JTextField();
        jButton_Save = new javax.swing.JButton();
        jButton_Clear = new javax.swing.JButton();
        jLabel6 = new javax.swing.JLabel();
        jComboBox_examName = new javax.swing.JComboBox<>();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jComboBox_startDate = new javax.swing.JComboBox<>();
        jComboBox_endDate = new javax.swing.JComboBox<>();
        jLabel9 = new javax.swing.JLabel();
        jDateChooser_resultDate = new com.toedter.calendar.JDateChooser();

        setClosable(true);

        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel2.setBackground(new java.awt.Color(0, 185, 205));

        jLabel1.setFont(new java.awt.Font("Serif", 3, 22)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(255, 255, 255));
        jLabel1.setText("Result Processing System");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 273, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 1077, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE)
        );

        jPanel1.add(jPanel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 1350, 40));

        jTable_viewStudents.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jTable_viewStudents.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable_viewStudents.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable_viewStudentsMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(jTable_viewStudents);

        jPanel1.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 120, 320, 420));

        jComboBox_grade.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jComboBox_grade.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select Grade" }));
        jComboBox_grade.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox_gradeActionPerformed(evt);
            }
        });
        jPanel1.add(jComboBox_grade, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 70, -1, -1));

        jLabel3.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel3.setText("Student ID:");

        jLabel4.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel4.setText("Full Name:");

        jTextField_fullname.setEditable(false);
        jTextField_fullname.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jTextField_studentid.setEditable(false);
        jTextField_studentid.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jLabel5.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel5.setText("Grade:");

        jTextField_grade.setEditable(false);
        jTextField_grade.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jLabel_picture.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel_picture.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel_picture.setText("Picture");
        jLabel_picture.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel3)
                                    .addGroup(jPanel3Layout.createSequentialGroup()
                                        .addGap(8, 8, 8)
                                        .addComponent(jLabel5)))
                                .addGap(20, 20, 20))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 6, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel4)
                                .addGap(18, 18, 18)))
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(jTextField_fullname, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTextField_studentid, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTextField_grade, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(51, 51, 51)
                        .addComponent(jLabel_picture, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(21, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel_picture, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(26, 26, 26)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextField_studentid, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addComponent(jLabel3)))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jTextField_fullname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_grade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5))
                .addContainerGap(26, Short.MAX_VALUE))
        );

        jPanel1.add(jPanel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(860, 120, 250, 310));

        jLabel2.setFont(new java.awt.Font("Serif", 1, 18)); // NOI18N
        jLabel2.setText("Insert Marks");

        jLabel_sub1.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel_sub1.setText("Subject 1: ");

        jLabel_sub2.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel_sub2.setText("Subject 2: ");

        jLabel_sub3.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel_sub3.setText("Subject 3: ");

        jLabel_sub4.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel_sub4.setText("Subject 4: ");

        jLabel_sub5.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel_sub5.setText("Subject 5: ");

        jTextField_sub1.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jTextField_sub2.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jTextField_sub3.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jTextField_sub4.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jTextField_sub5.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N

        jButton_Save.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jButton_Save.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/login.png"))); // NOI18N
        jButton_Save.setText("Save");
        jButton_Save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_SaveActionPerformed(evt);
            }
        });

        jButton_Clear.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jButton_Clear.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Images/cancel.png"))); // NOI18N
        jButton_Clear.setText("Clear");
        jButton_Clear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_ClearActionPerformed(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel6.setText("Select Exam Terminal:");

        jComboBox_examName.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jComboBox_examName.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select Terminal", "First Terminal Exam", "Second Terminal Exam", "Third Terminal Exam", "Final Terminal Exam" }));
        jComboBox_examName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox_examNameActionPerformed(evt);
            }
        });

        jLabel7.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel7.setText("Exam Start Date:");

        jLabel8.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel8.setText("Exam End Date:");

        jComboBox_startDate.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jComboBox_startDate.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select Start Date" }));

        jComboBox_endDate.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jComboBox_endDate.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select End Date" }));

        jLabel9.setFont(new java.awt.Font("Serif", 0, 14)); // NOI18N
        jLabel9.setText("Result Date:");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(32, 32, 32)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addGap(130, 130, 130)
                            .addComponent(jButton_Save)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jButton_Clear))
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel_sub5)
                                .addComponent(jLabel_sub4)
                                .addComponent(jLabel9))
                            .addGap(110, 110, 110)
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jDateChooser_resultDate, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jTextField_sub5, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addComponent(jLabel6)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8)
                            .addComponent(jLabel_sub1)
                            .addComponent(jLabel_sub2)
                            .addComponent(jLabel_sub3)
                            .addComponent(jLabel7))
                        .addGap(82, 82, 82)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jComboBox_startDate, javax.swing.GroupLayout.PREFERRED_SIZE, 176, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(jComboBox_examName, javax.swing.GroupLayout.Alignment.LEADING, 0, 176, Short.MAX_VALUE)
                                .addComponent(jComboBox_endDate, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jTextField_sub4, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel4Layout.createSequentialGroup()
                            .addGap(178, 178, 178)
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(jTextField_sub3, javax.swing.GroupLayout.DEFAULT_SIZE, 69, Short.MAX_VALUE)
                                .addComponent(jTextField_sub2, javax.swing.GroupLayout.Alignment.TRAILING)
                                .addComponent(jTextField_sub1, javax.swing.GroupLayout.Alignment.TRAILING)))))
                .addContainerGap(114, Short.MAX_VALUE))
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(172, 172, 172)
                .addComponent(jLabel2)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(jLabel2)
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jComboBox_examName, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 24, Short.MAX_VALUE)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jComboBox_startDate, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 24, Short.MAX_VALUE)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(jComboBox_endDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_sub1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_sub1))
                .addGap(17, 17, 17)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_sub2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_sub2))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_sub3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_sub3))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextField_sub4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_sub4, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField_sub5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel_sub5))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel9)
                    .addComponent(jDateChooser_resultDate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 44, Short.MAX_VALUE)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton_Save)
                    .addComponent(jButton_Clear))
                .addGap(34, 34, 34))
        );

        jPanel1.add(jPanel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, 50, 500, 540));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 1352, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 680, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jTable_viewStudentsMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable_viewStudentsMouseClicked
        int student_id = (int)jTable_viewStudents.getValueAt(jTable_viewStudents.getSelectedRow(), 0);
        Students sOb = new Students();
        sOb.setStudent_id(student_id);
        
        StudentDAO sDAO = new StudentDAO();
        List<Students> studentList = sDAO.viewSingleStudent(sOb);
        try{
               jTextField_studentid.setText(""+studentList.get(0).getStudent_id()); 
               jTextField_fullname.setText(""+studentList.get(0).getFirst_name()+" "+studentList.get(0).getMiddle_name()+" "+studentList.get(0).getLast_name()); 
               int grade_id = studentList.get(0).getG_id();
               
               Grades gOb = new Grades();
               gOb.setG_id(grade_id);
               
               GradeDAO gDAO = new GradeDAO();
               String grade_name  = gDAO.getGrade(gOb);
               
               jTextField_grade.setText(grade_name);
                   
               
               String picture = studentList.get(0).getPicture();
               ImageIcon myImage=new ImageIcon(picture);
               
               Image img = myImage.getImage();
               Image newImg = img.getScaledInstance(jLabel_picture.getWidth(), jLabel_picture.getHeight(), Image.SCALE_SMOOTH);
               ImageIcon image = new ImageIcon(newImg);
               jLabel_picture.setIcon(image);    
               
               Subjects ssOb = new Subjects();
               ssOb.setG_id(grade_id);
               SubjectDAO  ssDAO = new SubjectDAO();
               List<Subjects> subjectList = ssDAO.viewSpecificGradeSubjectsForMarksInput(ssOb);
               
               try{
                  if(grade_id == 1 || grade_id == 2 || grade_id == 3){
                    jLabel_sub1.setText(""+subjectList.get(0).getSubject_name());
                    jLabel_sub2.setText(""+subjectList.get(1).getSubject_name());
                    jLabel_sub3.setText(""+subjectList.get(2).getSubject_name());
                    jLabel_sub4.setText("No Subjects");
                    jLabel_sub5.setText("No Subjects");
                    jTextField_sub4.setEditable(false);
                    jTextField_sub4.setText("0");
                    
                    jTextField_sub5.setEditable(false);
                    jTextField_sub5.setText("0");
                   
                  }else{
                    jLabel_sub1.setText(""+subjectList.get(0).getSubject_name());
                    jLabel_sub2.setText(""+subjectList.get(1).getSubject_name());
                    jLabel_sub3.setText(""+subjectList.get(2).getSubject_name());
                    jTextField_sub4.setEditable(true);
                    jTextField_sub4.setText("");
                    
                    jTextField_sub5.setEditable(true);
                    jTextField_sub5.setText("");
                    jLabel_sub4.setText(""+subjectList.get(3).getSubject_name());
                    jLabel_sub5.setText(""+subjectList.get(4).getSubject_name());

                  }
               }catch(Exception ex){
                   System.out.println(ex);
               }
               
               
            
        }catch(Exception ex){
            System.out.println(ex);
        }
    }//GEN-LAST:event_jTable_viewStudentsMouseClicked

    private void jComboBox_gradeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox_gradeActionPerformed
        String grade_name  = jComboBox_grade.getSelectedItem().toString();
        Grades gOb = new Grades();
        gOb.setGrade_name(grade_name);
        GradeDAO gDAO = new GradeDAO();
        int grade_id = gDAO.getGradeID(gOb);
        
        Students sOb = new Students();
        sOb.setG_id(grade_id);
        
        
          clearTableRows();
       StudentDAO sDAO = new StudentDAO();
        
        List<Students> studentList=sDAO.viewStudentAccordingToGrade(grade_id);
        
        if(studentList == null){
            
        }else{
                for(int i=0;i<studentList.size();i++){
                model.addRow(new Object[]{ 
                studentList.get(i).getStudent_id(),
                studentList.get(i).getFull_name()               
                
               });
            }
        }  
    }//GEN-LAST:event_jComboBox_gradeActionPerformed

    private void jButton_SaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_SaveActionPerformed
        
        int student_id  = Integer.parseInt(jTextField_studentid.getText().trim());
        String grade_name = jTextField_grade.getText();
        String exam_name = jComboBox_examName.getSelectedItem().toString();
        String exam_start_date = jComboBox_startDate.getSelectedItem().toString();
        String exam_end_date = jComboBox_endDate.getSelectedItem().toString();
        
        
        Exams eOb = new Exams();
        eOb.setExam_name(exam_name);
        eOb.setExam_start_date(exam_start_date);
        eOb.setExam_end_date(exam_end_date);
        
        ExamDAO eDAO = new ExamDAO();
        int exam_id = eDAO.getExamID(eOb);
        
        Grades gOb = new Grades();
        gOb.setGrade_name(grade_name);
        GradeDAO gDAO = new GradeDAO();
         int grade_id = gDAO.getGradeID(gOb);
         
         Subjects sOb = new Subjects();
         SubjectDAO sDAO = new SubjectDAO();
         
         
         if(jTextField_sub1.getText().isEmpty() || jTextField_sub2.getText().isEmpty() || jTextField_sub3.getText().isEmpty() || jTextField_sub4.getText().isEmpty() || jTextField_sub5.getText().isEmpty() ){
             JOptionPane.showMessageDialog(null, "Fields are empty!");
         }else{
            int m1 = Integer.parseInt(jTextField_sub1.getText().trim());
            int m2 = Integer.parseInt(jTextField_sub2.getText().trim());
            int m3 = Integer.parseInt(jTextField_sub3.getText().trim());
            int m4 = Integer.parseInt(jTextField_sub4.getText().trim());
            int m5 = Integer.parseInt(jTextField_sub5.getText().trim());
            
            
            SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
             String date = sdf.format(jDateChooser_resultDate.getDate());

            Results rOb = new Results();
            ResultDAO rDAO = new ResultDAO();
            
            if(grade_id == 1 || grade_id == 2 || grade_id == 3){
                
                    
                
                    String sub1 = jLabel_sub1.getText();
                    sOb.setSubject_name(sub1);
                    sOb.setG_id(grade_id);      
                    int subject_id1 = sDAO.getSubjectID(sOb);

                    String sub2 = jLabel_sub2.getText();     
                    sOb.setSubject_name(sub2);
                    sOb.setG_id(grade_id);
                    int subject_id2 = sDAO.getSubjectID(sOb);

                    String sub3 = jLabel_sub3.getText();
                    sOb.setSubject_name(sub3);
                    sOb.setG_id(grade_id);
                    int subject_id3 = sDAO.getSubjectID(sOb);

                    //  for first subject
                        rOb.setG_id(grade_id);
                        rOb.setStudent_id(student_id);
                        rOb.setMarks_scored(m1);
                        rOb.setRemarks(giveRemarks(m1));
                        rOb.setResult_date(date);
                        rOb.setSubject_id(subject_id1);
                        rOb.setExam_id(exam_id);
                        if( rDAO.saveData(rOb) == 1){
                            //  for second subject
                            rOb.setG_id(grade_id);
                            rOb.setStudent_id(student_id);
                            rOb.setMarks_scored(m2);
                            rOb.setRemarks(giveRemarks(m2));
                            rOb.setResult_date(date);
                            rOb.setSubject_id(subject_id2);
                            rOb.setExam_id(exam_id);
                          if( rDAO.saveData(rOb) == 1){
                               //  for third subject
                            rOb.setG_id(grade_id);
                            rOb.setStudent_id(student_id);
                            rOb.setMarks_scored(m3);
                            rOb.setRemarks(giveRemarks(m3));
                            rOb.setResult_date(date);
                            rOb.setSubject_id(subject_id3);
                            rOb.setExam_id(exam_id);

                            rDAO.saveData(rOb);

                            JOptionPane.showMessageDialog(null, "Result saved!");
                            resetFields(); 
                          }
                          else{
                              
                          }
                        }else{
                           JOptionPane.showMessageDialog(null, "Result saved failed!"); 
                        }
                
                  }else{
                
                    String sub1 = jLabel_sub1.getText();
                    sOb.setSubject_name(sub1);
                    sOb.setG_id(grade_id);      
                    int subject_id1 = sDAO.getSubjectID(sOb);

                    String sub2 = jLabel_sub2.getText();     
                    sOb.setSubject_name(sub2);
                    sOb.setG_id(grade_id);
                    int subject_id2 = sDAO.getSubjectID(sOb);

                    String sub3 = jLabel_sub3.getText();
                    sOb.setSubject_name(sub3);
                    sOb.setG_id(grade_id);
                    int subject_id3 = sDAO.getSubjectID(sOb);

                    String sub4 = jLabel_sub4.getText();
                    sOb.setSubject_name(sub4);
                    sOb.setG_id(grade_id);
                    int subject_id4 = sDAO.getSubjectID(sOb);

                    String sub5 = jLabel_sub5.getText();
                    sOb.setSubject_name(sub5);
                    sOb.setG_id(grade_id);
                    int subject_id5 = sDAO.getSubjectID(sOb);
                    
                     // for first subject
                    rOb.setG_id(grade_id);
                    rOb.setStudent_id(student_id);
                    rOb.setMarks_scored(m1);
                    rOb.setRemarks(giveRemarks(m1));
                    rOb.setResult_date(date);
                    rOb.setSubject_id(subject_id1);
                    rOb.setExam_id(exam_id);
                    rDAO.saveData(rOb);

                    // for second subject
                    rOb.setG_id(grade_id);
                    rOb.setStudent_id(student_id);
                    rOb.setMarks_scored(m2);
                   rOb.setRemarks(giveRemarks(m2));
                    rOb.setResult_date(date);
                    rOb.setSubject_id(subject_id2);
                    rOb.setExam_id(exam_id);
                    rDAO.saveData(rOb);

                    // for third subject
                    rOb.setG_id(grade_id);
                    rOb.setStudent_id(student_id);
                    rOb.setMarks_scored(m3);
                    rOb.setRemarks(giveRemarks(m3));
                    rOb.setResult_date(date);
                    rOb.setSubject_id(subject_id3);
                    rOb.setExam_id(exam_id);
                    rDAO.saveData(rOb);

                    // for fourth subject
                    rOb.setG_id(grade_id);
                    rOb.setStudent_id(student_id);
                    rOb.setMarks_scored(m4);
                    //rOb.setRemarks(giveRemarks(m4));
                    rOb.setResult_date(date);
                    rOb.setSubject_id(subject_id4);
                    rOb.setExam_id(exam_id);
                    rDAO.saveData(rOb);

                    // for fourth subject
                    rOb.setG_id(grade_id);
                    rOb.setStudent_id(student_id);
                    rOb.setMarks_scored(m5);
                   rOb.setRemarks(giveRemarks(m5));
                    rOb.setResult_date(date);
                    rOb.setSubject_id(subject_id5);
                    rOb.setExam_id(exam_id);     
                    rDAO.saveData(rOb);
                    
                   JOptionPane.showMessageDialog(null, "Data saved!");
                   resetFields();
                     
                   
                  }
         }
    
         
   
    }//GEN-LAST:event_jButton_SaveActionPerformed

    private void jButton_ClearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_ClearActionPerformed
        resetFields();
    }//GEN-LAST:event_jButton_ClearActionPerformed

    private void jComboBox_examNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox_examNameActionPerformed
       String exam_name = jComboBox_examName.getSelectedItem().toString();
        Exams eOb = new Exams();
        eOb.setExam_name(exam_name);
        ExamDAO eDAO = new ExamDAO();
        
         List<Exams> examDateLists=eDAO.getExamDates(eOb);
           
            if(examDateLists == null){
                jComboBox_startDate.addItem("Date not found");
                jComboBox_endDate.addItem("Date not found");
                
            }else{
                for(int i=0;i<examDateLists.size();i++){
                jComboBox_startDate.addItem(examDateLists.get(i).getExam_start_date());
                jComboBox_endDate.addItem(examDateLists.get(i).getExam_end_date());
                }  
            }
        
        
    }//GEN-LAST:event_jComboBox_examNameActionPerformed

    public String giveRemarks(int marks){
        String remarks;
                 if(marks<40){
                        remarks = "Fail";
                        return remarks;
                    }
                        
                    else if( (marks >40 && marks<=60) ){
                            remarks = "Just Pass";
                            return remarks;
                        }
                    else if((marks >60 && marks<=80) ){
                        remarks = "Good";
                        return remarks;
                    }
                    else if((marks >80 && marks<=100)){
                        remarks = "Very Good";
                        return remarks;
                    }
                return remarks=null;
    }
    public void resetFields(){
        jComboBox_examName.setSelectedIndex(0);
        jComboBox_startDate.removeAllItems();
        jComboBox_endDate.removeAllItems();
        jTextField_sub1.setText("");
        jTextField_sub2.setText("");
        jTextField_sub3.setText("");
        jTextField_sub4.setText("");
        jTextField_sub5.setText("");
        jDateChooser_resultDate.setDate(null);

    }

    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton_Clear;
    private javax.swing.JButton jButton_Save;
    private javax.swing.JComboBox<String> jComboBox_endDate;
    private javax.swing.JComboBox<String> jComboBox_examName;
    private javax.swing.JComboBox<String> jComboBox_grade;
    private javax.swing.JComboBox<String> jComboBox_startDate;
    private com.toedter.calendar.JDateChooser jDateChooser_resultDate;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabel_picture;
    private javax.swing.JLabel jLabel_sub1;
    private javax.swing.JLabel jLabel_sub2;
    private javax.swing.JLabel jLabel_sub3;
    private javax.swing.JLabel jLabel_sub4;
    private javax.swing.JLabel jLabel_sub5;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable_viewStudents;
    private javax.swing.JTextField jTextField_fullname;
    private javax.swing.JTextField jTextField_grade;
    private javax.swing.JTextField jTextField_studentid;
    private javax.swing.JTextField jTextField_sub1;
    private javax.swing.JTextField jTextField_sub2;
    private javax.swing.JTextField jTextField_sub3;
    private javax.swing.JTextField jTextField_sub4;
    private javax.swing.JTextField jTextField_sub5;
    // End of variables declaration//GEN-END:variables
}
